<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Style-Type" content="text/css" /> 
    <title>Exercise_1_4-async.html</title>
    <link href="/library/skin/tool_base.css" type="text/css" rel="stylesheet" media="all" />
    <link href="/library/skin/morpheus-default/tool.css" type="text/css" rel="stylesheet" media="all" />
    <script type="text/javascript" src="/library/js/headscripts.js"></script>
    <style>body { padding: 5px !important; }</style>
  </head>
  <body>
<script src="https://unpkg.com/rxjs/bundles/rxjs.umd.min.js"></script>
<!-- <p>paragraph</p> -->
<script>
const { Observable, of, from } = rxjs;
const { map, reduce } = rxjs.operators;
	
const promiseFun = async function(array_2){
	    const textArray = this.split(" ");		
		from(textArray)
         .pipe(
             map(e=>{if(array_2.find(b=>b===e,false))
					return "*****";
				else
					return e;}),
			reduce((j,k)=>j+" "+k,"") 
         )
         .subscribe((obj) => console.log(obj))
    }
    // from(data)
    //     .pipe(
    //         map((obj) => ({ msg: `${obj.name} is awesome!` }))
    //     )
    //     .subscribe((obj) => console.log(obj.msg)
    String.prototype.filterwords= promiseFun;
console.log("usin Observable");
console.log("step1");
"this house is nice".filterwords( ['house','nice']);
console.log("step2");


     


var obs = Observable.create(function (observer) {
    for (let i = 90; i < 100; i++) {
        observer.next(i);
    }
    observer.next('CS572');
    setTimeout(() => {
        observer.next('CS472');
        observer.error('Something went Wrong')
        observer.complete();
    }, 3000);
});
var subscription = obs.subscribe(
    function (x) { console.log(`Value: ${x}`); },
    function (err) { console.error(err); },
    function () { console.info(`Done`); });

</script>
  </body>
</html>
